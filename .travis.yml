language: csharp
mono: none
dotnet: 5.0.201
solution: LibAoe2AISharp.sln
script:
  - dotnet restore
  - dotnet test --collect:"XPlat Code Coverage" > test.log
  - COVERAGE_RESULT=`cat test.log | grep coverage.cobertura.xml`
  - cat test.log
  - curl -s https://codecov.io/bash > codecov
  - chmod +x codecov
  - ./codecov -f $COVERAGE_RESULT
branches:
  only:
  - main
  - travis
